<!DOCTYPE html>
<html>
    <head>
        <title>File Upload</title>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    </head>
    <body>
        <form action="/upload" method="POST" enctype="multipart/form-data">
            <input type="file" name="artifact" onchange="change(event)" /><br/>
            <input type="button" onclick="upload()" value="Upload">
            <!--button>Upload</button-->
        </form>
        <script type="text/javascript">
            function change(e) {
                let file = e.target.files[0];
                upload(file);
            }
            function upload(file) {
                let formData = new FormData();
                formData.append("artifact", file);
                
                axios.post('/upload', formData, {headers: {"Content-Type": "multipart/form-data",},})
                .then(function (response) {
                    console.log(response);
                })
                .catch(function (error) {
                    console.log(error);
                });
            }
        </script>
    </body>
</html>